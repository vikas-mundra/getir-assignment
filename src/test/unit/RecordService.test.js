"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const mockingoose_1 = __importDefault(require("mockingoose"));
const { Record, IRecord } = require('../../models/Record.model');
const { RecordService } = require('../../services/Record.service');
const MOCK_DATA = [
    {
        "key": "GRLbHIEk",
        "createdAt": "2016-08-03T23:58:00.940Z",
        "totalCount": 49
    },
    {
        "key": "nVSJettm",
        "createdAt": "2016-11-01T21:30:20.519Z",
        "totalCount": 49
    }
];
describe('Record Service', () => {
    it('should return records from service', () => {
        mockingoose_1.default(Record).toReturn(MOCK_DATA, 'aggregate');
        return new RecordService().FindRecords(new Date('2016-11-01'), new Date('2016-11-01'), 0, 0)
            .then((doc) => {
            expect(doc).toMatchObject(MOCK_DATA);
        });
    });
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiUmVjb3JkU2VydmljZS50ZXN0LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiUmVjb3JkU2VydmljZS50ZXN0LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7O0FBQUEsOERBQXNDO0FBRXRDLE1BQU0sRUFBQyxNQUFNLEVBQUUsT0FBTyxFQUFDLEdBQUcsT0FBTyxDQUFDLDJCQUEyQixDQUFDLENBQUM7QUFDL0QsTUFBTSxFQUFDLGFBQWEsRUFBQyxHQUFHLE9BQU8sQ0FBQywrQkFBK0IsQ0FBQyxDQUFDO0FBRWpFLE1BQU0sU0FBUyxHQUFHO0lBQ2Q7UUFDSSxLQUFLLEVBQUUsVUFBVTtRQUNqQixXQUFXLEVBQUUsMEJBQTBCO1FBQ3ZDLFlBQVksRUFBRSxFQUFFO0tBQ25CO0lBQ0Q7UUFDSSxLQUFLLEVBQUUsVUFBVTtRQUNqQixXQUFXLEVBQUUsMEJBQTBCO1FBQ3ZDLFlBQVksRUFBRSxFQUFFO0tBQ25CO0NBQ0osQ0FBQztBQUVGLFFBQVEsQ0FBQyxnQkFBZ0IsRUFBRSxHQUFHLEVBQUU7SUFDNUIsRUFBRSxDQUFDLG9DQUFvQyxFQUFFLEdBQUcsRUFBRTtRQUMxQyxxQkFBVyxDQUFDLE1BQU0sQ0FBQyxDQUFDLFFBQVEsQ0FBQyxTQUFTLEVBQUUsV0FBVyxDQUFDLENBQUM7UUFFckQsT0FBTyxJQUFJLGFBQWEsRUFBRSxDQUFDLFdBQVcsQ0FDbEMsSUFBSSxJQUFJLENBQUMsWUFBWSxDQUFDLEVBQ3RCLElBQUksSUFBSSxDQUFDLFlBQVksQ0FBQyxFQUN0QixDQUFDLEVBQ0QsQ0FBQyxDQUNKO2FBQ0ksSUFBSSxDQUFDLENBQUMsR0FBbUIsRUFBRSxFQUFFO1lBQzFCLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQyxhQUFhLENBQUMsU0FBUyxDQUFDLENBQUM7UUFDekMsQ0FBQyxDQUFDLENBQUM7SUFDWCxDQUFDLENBQUMsQ0FBQztBQUNQLENBQUMsQ0FBQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vY2tpbmdvb3NlIGZyb20gXCJtb2NraW5nb29zZVwiO1xuXG5jb25zdCB7UmVjb3JkLCBJUmVjb3JkfSA9IHJlcXVpcmUoJy4uLy4uL21vZGVscy9SZWNvcmQubW9kZWwnKTtcbmNvbnN0IHtSZWNvcmRTZXJ2aWNlfSA9IHJlcXVpcmUoJy4uLy4uL3NlcnZpY2VzL1JlY29yZC5zZXJ2aWNlJyk7XG5cbmNvbnN0IE1PQ0tfREFUQSA9IFtcbiAgICB7XG4gICAgICAgIFwia2V5XCI6IFwiR1JMYkhJRWtcIixcbiAgICAgICAgXCJjcmVhdGVkQXRcIjogXCIyMDE2LTA4LTAzVDIzOjU4OjAwLjk0MFpcIixcbiAgICAgICAgXCJ0b3RhbENvdW50XCI6IDQ5XG4gICAgfSxcbiAgICB7XG4gICAgICAgIFwia2V5XCI6IFwiblZTSmV0dG1cIixcbiAgICAgICAgXCJjcmVhdGVkQXRcIjogXCIyMDE2LTExLTAxVDIxOjMwOjIwLjUxOVpcIixcbiAgICAgICAgXCJ0b3RhbENvdW50XCI6IDQ5XG4gICAgfVxuXTtcblxuZGVzY3JpYmUoJ1JlY29yZCBTZXJ2aWNlJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgcmV0dXJuIHJlY29yZHMgZnJvbSBzZXJ2aWNlJywgKCkgPT4ge1xuICAgICAgICBtb2NraW5nb29zZShSZWNvcmQpLnRvUmV0dXJuKE1PQ0tfREFUQSwgJ2FnZ3JlZ2F0ZScpO1xuXG4gICAgICAgIHJldHVybiBuZXcgUmVjb3JkU2VydmljZSgpLkZpbmRSZWNvcmRzKFxuICAgICAgICAgICAgbmV3IERhdGUoJzIwMTYtMTEtMDEnKSxcbiAgICAgICAgICAgIG5ldyBEYXRlKCcyMDE2LTExLTAxJyksXG4gICAgICAgICAgICAwLFxuICAgICAgICAgICAgMFxuICAgICAgICApXG4gICAgICAgICAgICAudGhlbigoZG9jOiB0eXBlb2YgSVJlY29yZCkgPT4ge1xuICAgICAgICAgICAgICAgIGV4cGVjdChkb2MpLnRvTWF0Y2hPYmplY3QoTU9DS19EQVRBKTtcbiAgICAgICAgICAgIH0pO1xuICAgIH0pO1xufSk7XG4iXX0=